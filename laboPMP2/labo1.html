
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Laboratoire 1 &#8212; documentation Laboratoires de programmation mathématique et physique 2 0.1</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Laboratoire 2" href="labo2.html" />
    <link rel="prev" title="Outils" href="outils.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="labo2.html" title="Laboratoire 2"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="outils.html" title="Outils"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">documentation Laboratoires de programmation mathématique et physique 2 0.1</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="laboratoire-1">
<h1>Laboratoire 1<a class="headerlink" href="#laboratoire-1" title="Lien permanent vers ce titre">¶</a></h1>
<p>Les notions abordées dans ce laboratoire sont les suivantes:</p>
<ul class="simple">
<li>Mathématique:<ul>
<li>La notion de champ vectoriel.</li>
</ul>
</li>
<li>Physique:<ul>
<li>Les charges électriques.</li>
<li>Le champ électrique.</li>
</ul>
</li>
<li>Programmation Python:<ul>
<li>L’ajout et la suppression d’éléments d’une liste.</li>
</ul>
</li>
</ul>
<div class="section" id="programme-1-visualisation-du-champ-electrique">
<h2>Programme 1: Visualisation du champ électrique<a class="headerlink" href="#programme-1-visualisation-du-champ-electrique" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce premier projet a pour but de vous familiariser avec la notion de
champ électrique. Le programme que vous allez développer permettra
d’afficher graphiquement ce champ dans un espace à deux dimensions,
pour un ensemble quelconque de charges.</p>
<div class="section" id="le-champ-electrique">
<h3>Le champ électrique<a class="headerlink" href="#le-champ-electrique" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le champ électrique est un <em>champ vectoriel</em> (ce qui signifie qu’il
associe un vecteur à chaque point de l’espace) créé par la présence
de charges électriques.</p>
<p>Principes:</p>
<ul>
<li><p class="first">Pour une charge électrique <span class="math">\(q\)</span> (exprimée en <em>Coulombs (C)</em>, et
pouvant être positive ou négative) placée en un point <span class="math">\(p\)</span>,
le champ créé par cette charge en un point <span class="math">\(p'\neq p\)</span> est
un vecteur <span class="math">\(\vec{E}(p')\)</span> tel que:</p>
<ul>
<li><p class="first">Ce vecteur est orienté selon la droite qui relie <span class="math">\(p\)</span> à
<span class="math">\(p'\)</span>. Il s’écarte de <span class="math">\(p\)</span> si la charge <span class="math">\(q\)</span>
est positive, et est dirigé vers <span class="math">\(p\)</span> si cette charge est
négative.</p>
<blockquote>
<div><div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/champ.png"><img alt="Champ électrique." src="_images/champ.png" style="width: 394.0px; height: 252.0px;" /></a>
<p class="caption"><span class="caption-text">Champ électrique.</span></p>
</div>
</div></blockquote>
</li>
<li><p class="first">La norme de ce vecteur est égale à <span class="math">\(\displaystyle\frac{k|q|}{r^2}\)</span>,
où <span class="math">\(r\)</span> est la distance qui sépare <span class="math">\(p\)</span> et  <span class="math">\(p'\)</span>,
et <span class="math">\(k \approx 8.9876\, 10^9 N m^2/C^{-2}\)</span> est la
<em>constante de Coulomb</em>.</p>
</li>
</ul>
</li>
<li><p class="first">En présence de plusieurs charges, le champ électrique en un point
est égal à la somme vectorielle des champs créés en ce point
par chacune des charges.</p>
</li>
</ul>
</div>
<div class="section" id="programme-de-base">
<h3>Programme de base<a class="headerlink" href="#programme-de-base" title="Lien permanent vers ce titre">¶</a></h3>
<p>La première étape consiste à écrire un programme qui ouvre
une fenêtre de 1600 par 900 pixels et la peint dans une couleur
uniforme. Le plus simple consiste à partir de cet exemple, similaire
à celui du <a class="reference external" href="https:www.montefiore.ulg.ac.be/~boigelot/cours/labmp/tutoriel/labo4.html">laboratoire 4</a> de la première partie du cours:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">pygame</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># Constantes</span>

<span class="n">BLEUCLAIR</span> <span class="o">=</span> <span class="p">(</span><span class="mi">127</span><span class="p">,</span> <span class="mi">191</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

<span class="c1"># Paramètres</span>

<span class="n">dimensions_fenetre</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1600</span><span class="p">,</span> <span class="mi">900</span><span class="p">)</span>  <span class="c1"># en pixels</span>
<span class="n">images_par_seconde</span> <span class="o">=</span> <span class="mi">25</span>

<span class="c1"># Initialisation</span>

<span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

<span class="n">fenetre</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">(</span><span class="n">dimensions_fenetre</span><span class="p">)</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">&quot;Programme 1&quot;</span><span class="p">)</span>

<span class="n">horloge</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
<span class="n">couleur_fond</span> <span class="o">=</span> <span class="n">BLEUCLAIR</span>

<span class="c1"># Dessin</span>

<span class="n">fenetre</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">couleur_fond</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">evenement</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">evenement</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
    <span class="n">horloge</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="n">images_par_seconde</span><span class="p">)</span>
</pre></div>
</div>
<p>Recopiez ce programme dans un fichier appelé <code class="docutils literal"><span class="pre">prog-1.py</span></code>, et
vérifiez qu’il fonctionne correctement.  (Veillez à placer ce
programme dans un répertoire dédié à cette seconde partie du cours,
afin de ne pas écraser vos réalisations du premier quadrimestre.)</p>
</div>
<div class="section" id="gestion-des-objets-charges">
<h3>Gestion des objets chargés<a class="headerlink" href="#gestion-des-objets-charges" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’étape suivante vise à ajouter au programme un mécanisme permettant de retenir
l’ensemble des objets chargés qui engendrent le champ. L’idée est de représenter
chaque objet par un triplet <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">q)</span></code>, où</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code> sont les coordonnées de l’objet, exprimées en pixels
dans le repère de la fenêtre.</li>
<li><code class="docutils literal"><span class="pre">q</span></code> est la charge électrique de l’objet, exprimée en Coulombs et
pouvant être positive ou négative.</li>
</ul>
<p>L’ensemble des objets à considérer sera alors représenté par une liste de triplets
<code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">q)</span></code>, mémorisée dans une variable <code class="docutils literal"><span class="pre">objets</span></code>.</p>
<p>Procédure à suivre:</p>
<ol class="arabic">
<li><p class="first">Avant de rentrer dans la boucle principale du programme, initialiser la variable
<code class="docutils literal"><span class="pre">objets</span></code> à l’aide d’une liste vide.</p>
</li>
<li><p class="first">Définir une fonction <code class="docutils literal"><span class="pre">ajouter_objet(x,</span> <span class="pre">y,</span> <span class="pre">q)</span></code> chargée d’ajouter à
<code class="docutils literal"><span class="pre">objets</span></code> le triplet
<code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">q)</span></code>.</p>
<p><strong>Note:</strong> En Python, l’instruction <code class="docutils literal"><span class="pre">l.append(v)</span></code> permet d’ajouter la valeur
<code class="docutils literal"><span class="pre">v</span></code> à la liste <code class="docutils literal"><span class="pre">l</span></code>.</p>
</li>
<li><p class="first">Invoquer deux fois la fonction rédigée au point précédent, afin de créer un
objet de charge <span class="math">\(10^{-6} C\)</span> situé aux coordonnées (800, 200), et
un autre de charge <span class="math">\(-10^{-6} C\)</span> situé en (800, 700).</p>
</li>
<li><p class="first">Créer une fonction <code class="docutils literal"><span class="pre">dessiner_objets()</span></code> destinée à afficher les
objets dans la fenêtre. Ceux-ci seront représentés par des
disques de 10 pixels de rayon, de couleur rouge pour les charges
positives, et noire pour les charges négatives.</p>
<p><strong>Notes:</strong></p>
<ul>
<li><p class="first">Pour parcourir tous les éléments <code class="docutils literal"><span class="pre">v</span></code> d’une liste <code class="docutils literal"><span class="pre">l</span></code>, le plus
simple est d’utiliser la construction:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
    <span class="n">instructions</span> <span class="n">manipulant</span> <span class="n">v</span>
</pre></div>
</div>
</li>
<li><p class="first">Puisque cette version du programme ne sera pas amenée à faire
bouger les objets, l’affichage de ceux-ci peut être réalisé avant
d’entrer dans la boucle principale du programme.</p>
</li>
</ul>
</li>
<li><p class="first">Tester votre programme. Vous devriez obtenir un résultat similaire à celui-ci:</p>
<blockquote>
<div><div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/prog-1-screenshot-1.png"><img alt="Affichage des objets chargés." src="_images/prog-1-screenshot-1.png" style="width: 528.66px; height: 306.24px;" /></a>
<p class="caption"><span class="caption-text">Affichage des objets chargés.</span></p>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="calcul-du-champ">
<h3>Calcul du champ<a class="headerlink" href="#calcul-du-champ" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’objectif est à présent de balayer l’espace de la fenêtre afin de
calculer et d’afficher le champ en différents points de celle-ci. Pour
dessiner des vecteurs, vous allez réutiliser les fonctions déjà développées
dans le <a class="reference external" href="https:www.montefiore.ulg.ac.be/~boigelot/cours/labmp/tutoriel/labo2.html">laboratoire 2</a> de la première partie du cours.</p>
<p>Marche à suivre:</p>
<ol class="arabic">
<li><p class="first">Ecrire une fonction <code class="docutils literal"><span class="pre">dessiner_champ()</span></code> qui balaie les deux dimensions de
la fenêtre avec un pas de 50 pixels. Afin d’obtenir un affichage correct à
proximité des bords de la fenêtre, le plus simple est de commencer ce balayage
un peu avant et de le terminer un peu après les coordonnées visibles.</p>
<p>En d’autres termes, pour une fenêtre de 1600 par 900 pixels, le balayage en
X enumèrera les coordonnées -50, 50, 100, 150, …, 1600, 1650, et en Y les
coordonnées  -50, 50, 100, 150, …, 900, 950.</p>
</li>
</ol>
<ol class="arabic" start="2">
<li><p class="first">Pour chaque paire de coordonnées <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code> balayée par  <code class="docutils literal"><span class="pre">dessiner_champ()</span></code>,
dessiner une flèche indiquant la direction du champ
électrique en <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>. Cette opération
s’effectue de la façon suivante:</p>
<ol class="loweralpha">
<li><p class="first">Calculer le champ électrique en <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code> à l’aide d’une
nouvelle fonction <code class="docutils literal"><span class="pre">calculer_champ(x,</span> <span class="pre">y)</span></code>.  Cette fonction doit
calculer la somme vectorielle du champ électrique créé par
chaque objet contenu dans la liste <code class="docutils literal"><span class="pre">objets</span></code>.</p>
<p>La formule du champ électrique créé en un point par un objet
chargé a été donnée au début de ce tutoriel. <strong>Note:</strong> On peut considérer
qu’une distance d’un pixel dans la fenêtre correspond à 1 m dans
la réalité, afin de ne pas avoir à effectuer de conversion d’unités.</p>
<p>Il y a un cas particulier à considérer: Le champ électrique
n’est pas défini à l’endroit même où se trouve une charge.
Pour traiter ce cas, il suffit de
détecter dans <code class="docutils literal"><span class="pre">calculer_champ(x,</span> <span class="pre">y)</span></code>
la situation où la distance entre une charge et le point
<code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code> est inférieure à un seuil donné (par exemple, 20 pixels),
et à retourner <code class="docutils literal"><span class="pre">None</span></code> dans ce cas. Lorsque la fonction
<code class="docutils literal"><span class="pre">dessiner_champ()</span></code> reçoit cette valeur <code class="docutils literal"><span class="pre">None</span></code>, il suffit alors
qu’elle ne dessine rien aux coordonnées <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>.</p>
</li>
<li><p class="first">Appelons <span class="math">\(\vec{e}\)</span> le vecteur retourné par
<code class="docutils literal"><span class="pre">calculer_champ(x,</span> <span class="pre">y)</span></code>, qui correspond donc au champ
électrique total en <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>. Pour afficher la direction de ce
vecteur, nous allons calculer</p>
<blockquote>
<div><p><span class="math">\(\displaystyle\vec{e}' = 40\frac{\vec{e}}{|\vec{e}|}.\)</span></p>
</div></blockquote>
<p>En d’autres termes, <span class="math">\(\vec{e}'\)</span> est un vecteur de même direction
que <span class="math">\(\vec{e}\)</span>, mais avec une norme égale à 40 pixels.</p>
<p>Ce calcul échouera si <span class="math">\(\vec{e}\)</span> est le vecteur nul. (En effet,
dans ce cas, le champ ne possède pas de direction.) Pour
gérer ce cas de façon robuste, le plus simple consiste à ne rien
dessiner lorsque la norme de <span class="math">\(\vec{e}\)</span> est inférieure à un
seuil donné, par exemple <span class="math">\(10^{-10}\)</span>.</p>
</li>
<li><p class="first">Appeler la fonction <code class="docutils literal"><span class="pre">dessiner_vecteur()</span></code> afin d’afficher <span class="math">\(\vec{e}'\)</span>
à partir de l’origine <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>.</p>
<p>Vous pouvez récupérer cette fonction depuis le programme 4 que vous
avez développé dans la <a class="reference external" href="https:www.montefiore.ulg.ac.be/~boigelot/cours/labmp/tutoriel/labo2.html">première partie du cours</a>.
Si vous ne disposez plus de ce programme, demandez à un autre groupe
de vous fournir cette fonction.</p>
</li>
</ol>
</li>
</ol>
<ol class="arabic" start="3">
<li><p class="first">Ne pas oublier d’appeler <code class="docutils literal"><span class="pre">dessiner_champ()</span></code> avant d’exécuter la
boucle princpale du programme.</p>
</li>
<li><p class="first">Tester votre programme. L’affichage obtenu devrait être similaire à celui-ci:</p>
<blockquote>
<div><div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/prog-1-screenshot-2.png"><img alt="Affichage du champ." src="_images/prog-1-screenshot-2.png" style="width: 528.66px; height: 306.24px;" /></a>
<p class="caption"><span class="caption-text">Affichage du champ.</span></p>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="amelioration-de-l-affichage">
<h3>Amélioration de l’affichage<a class="headerlink" href="#amelioration-de-l-affichage" title="Lien permanent vers ce titre">¶</a></h3>
<p>La version actuelle du programme permet déjà de bien visualiser les lignes de
champ; celles-ci quittent les charges positives et se dirigent vers les
charges négatives, en suivant différentes courbes.</p>
<p>Il y a cependant moyen d’obtenir un meilleur affichage. Premièrement,
le champ en un point <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code> pourrait être représenté par une flèche
centrée en  <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>, plutôt que par une flèche d’origine <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>.
Il s’agit d’un détail, mais qui permettrait d’obtenir une image qui ne présente
pas de «&nbsp;trou&nbsp;» autour des charges positives, ni de flèches qui s’accumulent
près des charges négatives.</p>
<p>Après avoir apporté cette modification à votre programme, son affichage devrait
ressembler à ceci:</p>
<blockquote>
<div><div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="_images/prog-1-screenshot-3.png"><img alt="Affichage amélioré du champ." src="_images/prog-1-screenshot-3.png" style="width: 528.66px; height: 306.24px;" /></a>
<p class="caption"><span class="caption-text">Affichage amélioré du champ.</span></p>
</div>
</div></blockquote>
<p>Une autre amélioration serait d’afficher l’intensité du champ en chaque
point. Plutôt que de le faire en modifiant la longueur des flèches (ce qui
rendrait le dessin illisible), nous allons dessiner ces flèches dans une
couleur qui dépend de cette intensité.</p>
<p>Procédure:</p>
<ol class="arabic">
<li><p class="first">Notons <span class="math">\(\vec{e}\)</span> le champ électrique en un point <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>,
calculé par un appel à <code class="docutils literal"><span class="pre">calculer_champ(x,</span> <span class="pre">y)</span></code>, lors du balayage
effectué dans <code class="docutils literal"><span class="pre">dessiner_champ()</span></code>.</p>
<p>Calculer <span class="math">\(v = \sqrt{1000 |\vec{e}|}\)</span>. Comme le champ décroît proportionnellement
avec le carré de la distance à une charge, ce choix permet d’obtenir une
valeur proportionnelle à l’inverse de cette distance.</p>
</li>
<li><p class="first">Sur base de la valeur de <span class="math">\(v\)</span>, calculer une couleur de la façon
suivante:</p>
<ul>
<li><p class="first">Si <span class="math">\(0 \leq v \leq 8\)</span>, alors on effectue une interpolation
linéaire entre les couleurs rouge (si <span class="math">\(v = 0\)</span>) et jaune (si
<span class="math">\(v = 8\)</span>).</p>
<p>En Pygame, les couleurs sont représentées par des triplets <code class="docutils literal"><span class="pre">(r,</span> <span class="pre">g,</span> <span class="pre">b)</span></code>,
où <code class="docutils literal"><span class="pre">r</span></code>, <code class="docutils literal"><span class="pre">g</span></code> et <code class="docutils literal"><span class="pre">b</span></code> sont des entiers entre 0 et 255 correspondant
à la luminance des composantes rouge, vert et bleue
(respectivement).</p>
<p>Dans ce système, la couleur rouge est représentée par (255, 0, 0), et
jaune par (255, 255, 0). Pour interpoler entre ces deux couleurs pour des
valeurs de <span class="math">\(v\)</span> variant entre 0 et 8, il suffit donc de calculer</p>
<blockquote>
<div><p><span class="math">\(\displaystyle(255, \frac{255v}{8}, 0)\)</span>.</p>
</div></blockquote>
</li>
<li><p class="first">Si <span class="math">\(8 &lt; v \leq 16\)</span>, alors on effectue une interpolation
linéaire entre les couleurs jaune (255, 255, 0) et turquoise
(0, 255, 255). (Le procédé est similaire au cas précédent.)</p>
</li>
<li><p class="first">Si <span class="math">\(16 &lt; v \leq 24\)</span>, alors on effectue une interpolation
linéaire entre les couleurs turquoise
(0, 255, 255) et bleu (0, 0, 255).</p>
</li>
<li><p class="first">Si <span class="math">\(24 &lt; v \leq 32\)</span>, alors on effectue une interpolation
linéaire entre les couleurs bleu (0, 0, 255) et mauve (255, 0, 255).</p>
</li>
<li><p class="first">Si <span class="math">\(v &gt; 32\)</span>, la couleur est systématiquement mauve
(255, 0, 255).</p>
</li>
</ul>
</li>
<li><p class="first">Utiliser la couleur calculée au point précédent pour afficher la flèche
centrée en <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>.</p>
</li>
<li><p class="first">Tester votre programme. Son affichage devrait maintenant être semblable
à cette image:</p>
<blockquote>
<div><div class="figure align-center" id="id5">
<a class="reference internal image-reference" href="_images/prog-1-screenshot-4.png"><img alt="Affichage du champ en couleurs." src="_images/prog-1-screenshot-4.png" style="width: 528.66px; height: 306.24px;" /></a>
<p class="caption"><span class="caption-text">Affichage du champ en couleurs.</span></p>
</div>
</div></blockquote>
</li>
<li><p class="first">Si votre programme fonctionne correctement, le déposer dans le
répertoire centralisé des laboratoires, avec le suffixe
<code class="docutils literal"><span class="pre">prog-1.py</span></code>.</p>
</li>
</ol>
</div>
<div class="section" id="experiences">
<h3>Expériences<a class="headerlink" href="#experiences" title="Lien permanent vers ce titre">¶</a></h3>
<p>Vous pouvez utiliser votre programme pour visualiser le champ électrique
créé par n’importe quelle combinaison de charges. Voici deux expériences
à réaliser. Pour chacune d’elles, essayez d’abord de prévoir la forme
du champ (en dessinant les lignes de champ sur une feuille de papier), avant
de lancer votre programme. N’hésitez pas non plus à explorer d’autres
configurations.</p>
<ul>
<li><p class="first">Quatre charges (de <span class="math">\(\pm10^{-6} C\)</span> chacune):</p>
<blockquote>
<div><div class="figure align-center" id="id6">
<a class="reference internal image-reference" href="_images/prog-1-screenshot-5.png"><img alt="Quatre charges." src="_images/prog-1-screenshot-5.png" style="width: 528.66px; height: 306.24px;" /></a>
<p class="caption"><span class="caption-text">Quatre charges.</span></p>
</div>
</div></blockquote>
</li>
<li><p class="first">Condensateur (chaque armature comprend 20 charges de <span class="math">\(\pm10^{-7} C\)</span> chacune):</p>
<blockquote>
<div><div class="figure align-center" id="id7">
<a class="reference internal image-reference" href="_images/prog-1-screenshot-6.png"><img alt="Condensateur." src="_images/prog-1-screenshot-6.png" style="width: 528.66px; height: 306.24px;" /></a>
<p class="caption"><span class="caption-text">Condensateur.</span></p>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="programme-2-creation-dynamique-de-charges">
<h2>Programme 2: Création dynamique de charges<a class="headerlink" href="#programme-2-creation-dynamique-de-charges" title="Lien permanent vers ce titre">¶</a></h2>
<p>Puisque votre programme peut en toute généralité traiter n’importe quelle
combinaison de charges dans un espace à deux dimensions, il n’est pas
difficile de le modifier de façon à pouvoir ajouter
et retirer dynamiquement des charges à l’aide de la souris.</p>
<p>Procédure:</p>
<ol class="arabic">
<li><p class="first">Modifier la boucle principale du programme de façon à détecter également
les évènements de type <code class="docutils literal"><span class="pre">pygame.MOUSEBUTTONDOWN</span></code>.</p>
<p>Ces évènements possèdent un champ <code class="docutils literal"><span class="pre">pos</span></code> retournant les coordonnées
<code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code> de la souris au moment où l’on a pressé un de ses boutons,
et un champ <code class="docutils literal"><span class="pre">button</span></code> renseignant le numéro de ce bouton.</p>
<p>Si le clic concerne le bouton de gauche <code class="docutils literal"><span class="pre">(button</span> <span class="pre">==</span> <span class="pre">1)</span></code> ou celui de
droite <code class="docutils literal"><span class="pre">(button</span> <span class="pre">==</span> <span class="pre">3)</span></code>, appeler la fonction <code class="docutils literal"><span class="pre">ajouter_objet()</span></code> pour
placer un nouvel objet à l’endroit du clic. La charge de cet objet est
égale à <span class="math">\(10^{-7} C\)</span> pour un clic gauche, et à <span class="math">\(-10^{-7} C\)</span> pour
un clic droit.</p>
<p>Si l’on a cliqué sur le bouton du milieu <code class="docutils literal"><span class="pre">(button</span> <span class="pre">==</span> <span class="pre">2)</span></code>, appeler une
nouvelle fonction <code class="docutils literal"><span class="pre">retirer_objet(x,</span> <span class="pre">y)</span></code> chargée d’enlever le ou les objets
situé(s) à ces coordonnées de la liste <code class="docutils literal"><span class="pre">objets</span></code>.</p>
</li>
<li><p class="first">Implémenter la fonction <code class="docutils literal"><span class="pre">retirer_objet(x,</span> <span class="pre">y)</span></code>. Le plus simple consiste
à énumérer tous les éléments de la liste <code class="docutils literal"><span class="pre">objets</span></code>, et pour chacun d’entre
eux, à tester si sa position est proche des coordonnées <code class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></code>. On peut
considérer que deux positions sont proches si elles sont séparées d’une
distance inférieure ou égale au rayon des disques qui représentent les
charges sur le dessin.</p>
<p><strong>Note:</strong> En Python, l’instruction <code class="docutils literal"><span class="pre">l.remove(v)</span></code> permet de retirer la valeur
<code class="docutils literal"><span class="pre">v</span></code> de la liste <code class="docutils literal"><span class="pre">l</span></code>.</p>
</li>
<li><p class="first">Ne pas oublier de déplacer les fonctions responsables du dessin du contenu
de la fenêtre (c’est-à-dire, de peindre la couleur de fond, et de dessiner
le champ électrique et les charges) à l’intérieur de la boucle principale
du programme.</p>
</li>
<li><p class="first">Tester soigneusement votre programme. Le déposer dans le répertoire centralisé
des laboratoires, avec le suffixe <code class="docutils literal"><span class="pre">prog-2.py</span></code>.</p>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Laboratoire 1</a><ul>
<li><a class="reference internal" href="#programme-1-visualisation-du-champ-electrique">Programme 1: Visualisation du champ électrique</a><ul>
<li><a class="reference internal" href="#le-champ-electrique">Le champ électrique</a></li>
<li><a class="reference internal" href="#programme-de-base">Programme de base</a></li>
<li><a class="reference internal" href="#gestion-des-objets-charges">Gestion des objets chargés</a></li>
<li><a class="reference internal" href="#calcul-du-champ">Calcul du champ</a></li>
<li><a class="reference internal" href="#amelioration-de-l-affichage">Amélioration de l’affichage</a></li>
<li><a class="reference internal" href="#experiences">Expériences</a></li>
</ul>
</li>
<li><a class="reference internal" href="#programme-2-creation-dynamique-de-charges">Programme 2: Création dynamique de charges</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="outils.html"
                        title="Chapitre précédent">Outils</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="labo2.html"
                        title="Chapitre suivant">Laboratoire 2</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/labo1.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="labo2.html" title="Laboratoire 2"
             >suivant</a> |</li>
        <li class="right" >
          <a href="outils.html" title="Outils"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">documentation Laboratoires de programmation mathématique et physique 2 0.1</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Bernard Boigelot.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.
    </div>
  </body>
</html>